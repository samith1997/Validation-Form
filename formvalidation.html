<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./style.css">
    <title>Validatoin Form</title>
    <style>

    </style>

</head>

<body>
    <section>
        <div class="container">
            <!-- <div class="row">
                <div class="col-6 col-md-4"> -->

                    <div class="header">
                        <h2>Create Account</h1>
                    </div>
                    <form id="form" class="form">
                        <div class="form-control">
                            <label for="username" class="">Username</label>
                            <input type="text" placeholder="Enter your name" name="" id="username">
                            <i class="fas fa-check-circle"></i>
                            <i class="fas fa-exclamation-circle"></i>
                            <small>Error message</small>
                        </div>
                     
                        <div class="form-control">
                            <label for="username" class="">Email</label>
                            <input type="email" placeholder="Enter email" name="" id="email">
                            <i class="fas fa-check-circle"></i>
                            <i class="fas fa-exclamation-circle"></i>
                            <small>Error message</small>
                        </div>
                        <div class="form-control">
                            <label for="username" class="">Password</label>
                            <input type="password" placeholder="password" name="" id="password">
                            <i class="fas fa-check-circle"></i>
                            <i class="fas fa-exclamation-circle"></i>
                            <small>Error message</small>
                        </div>
                        <div class="form-control">
                            <label for="username" class="">Recheck password</label>
                            <input type="password" placeholder="Recheck password" name="" id="recheckPassword">
                            <i class="fas fa-check-circle"></i>
                            <i class="fas fa-exclamation-circle"></i>
                            <small>Error message</small>

                        </div>
                        <button>Submit</button>
                    </form>
                <!-- </div>

            </div> -->
        </div>
        </div>


    </section>



    <script>

        let form = document.getElementById('form')
        let username = document.getElementById('username')
        let email = document.getElementById('email')
        let password = document.getElementById('password')
        let recheckPassword = document.getElementById('recheckPassword')

      form.addEventListener('submit', function (s) {
            console.log("s");
           s.preventDefault()
            checkinputs()

        })

        function checkinputs() {
            let usernamevalue = username.value.trim();
            let emailValue = email.value.trim();
            let passwordValue = password.value.trim();
            let recheckPasswordValue = recheckpassword.value.trim();

            if (usernamevalue === "") {
                setErrorFor(username, 'user name cannot be blank');
            }
            else {
                setSuccessFor(username);

            }

            if (emailValue === '') {
                setErrorFor(email, 'email cannot be blank');
            }
            else if (!isEmail(emailValue)) {
                setErrorFor(email, 'email is not valid');
            }
            else {
                setSuccessFor(email);
            }

            if (passwordValue === '') {
                setErrorFor(password, 'Password cannot be blank');
            }
            
            else {
                setSuccessFor(password);
            }

            if (recheckPasswordValue === '') {
                setErrorFor(recheckPassword, 'Password cannot be blank');
            }
            else if(!recheckPasswordValue===passwordValue){
                setErrorFor(recheckPasswordValue,'password is not match')
            }
            else {
                setSuccessFor(recheckPassword);
            }
        }

        function setErrorFor(input, message) {
            let formControl = input.parentElement;
            let small = formControl.querySelector('small');
            formControl.className = 'form-control error'
            small.innerText = message;

        }

        function setSuccessFor(input) {
            let formControl = input.parentElement;
            formControl.className = 'form-control success';
        }

        function isEmail(email) {
            return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
        }




    </script>


</body>

</html>